<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>polygon</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
<style>
    body { 
        margin: 0; 
        padding: 0; 
    }
    #map { 
        position: absolute; 
        top: 0; 
        bottom: 0; 
        width: 100%; 
    }
    .marker {
        background-image: url('mapbox-icon.png');
        background-size: cover;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
    }
    .mapboxgl-popup {
        max-width: 200px;
    }
    .mapboxgl-popup-content {
        text-align: center;
        font-family: 'Open Sans', sans-serif;
    }
</style>
</head>
<body>
<div id="map"></div>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiMzB2aXRpbiIsImEiOiJjbDV0cnM2Z2EwNXBoM2RxNTdyMm95eTI0In0.calIeuPLdeQGzMZJJS8J6Q';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/light-v11',
        center: [-79.5644, 8.9592],
        zoom: 14 
    });

    map.on('load', () => {
        map.addSource('Puerto Balboa', {
            'type': 'geojson',
            'data': {
                'type': 'Feature',
                'properties':{
                    'title': 'Puerto Balboa',
                    'description': 'Uno de los puertos que hay en PanamÃ¡'
                },
                'geometry': {
                    'type': 'Polygon',
                    'coordinates': [
                        [
                            [   -79.57068733294194,
                                8.964444857320586
                            ],
                            [
                                -79.56401473141986,
                                8.956835764741811
                            ],
                            [
                                -79.56770831711661,
                                8.952960809198856
                            ],
                            [
                                -79.5673827997175,
                                8.952637001420612
                            ],
                            [
                                -79.5668574325154,
                                8.95318215035796
                            ],
                            [
                                -79.56661752992227,
                                8.95276591506132
                            ],
                            [
                                -79.56697965946039,
                                8.952420044957634
                            ],
                            [
                                -79.56689907189238,
                                8.952332942786057
                            ],
                            [
                                -79.56643605850826,
                                8.95279979074563
                            ],
                            [
                                -79.56633370595875,
                                8.952712343906597
                            ],
                            [
                                -79.5668054507091,
                                8.952226290451307
                            ],
                            [
                                -79.5669697698223,
                                8.952020670876621
                            ],
                            [
                                -79.56689016838585,
                                8.951941804938613
                            ],
                            [
                                -79.5660597212776,
                                8.952786847679477
                            ],
                            [
                                -79.56590413490368,
                                8.952746890801762
                            ],
                            [
                                -79.56583627401196,
                                8.952616203448954
                            ],
                            [
                                -79.56668697925659,
                                8.951745328267165
                            ],
                            [
                                -79.56662317153332,
                                8.951689730561242
                            ],
                            [
                                -79.56672604454441,
                                8.95158403285565
                            ],
                            [
                                -79.56664915927675,
                                8.951515587295688
                            ],
                            [
                                -79.56576942679132,
                                8.952486627498189
                            ],
                            [
                                -79.5657097731028,
                                8.952436545328553
                            ],
                            [
                                -79.56565562181335,
                                8.952479929193046
                            ],
                            [
                                -79.56564975722651,
                                8.952506278178205
                            ],
                            [
                                -79.56393306027879,
                                8.954369613451888
                            ],
                            [
                                -79.5638812283215,
                                8.954305330978329
                            ],
                            [
                                -79.56365895523439,
                                8.954534625985005
                            ],
                            [
                                -79.56306586323853,
                                8.954592971002754
                            ],
                            [
                                -79.56061749001641,
                                8.957207109394403
                            ],
                            [
                                -79.5611046919874,
                                8.95858773193929
                            ],
                            [
                                -79.56186721335017,
                                8.959393325818198
                            ],
                            [
                                -79.56191776094482,
                                8.959620391860526
                            ],
                            [
                                -79.56230892598869,
                                8.95990932112602
                            ],
                            [
                                -79.56338397330646,
                                8.961152182362866
                            ],
                            [
                                -79.5632266599022,
                                8.961513029877707
                            ],
                            [
                                -79.56630409145139,
                                8.964920678917025
                            ],
                            [
                                -79.56893128064648,
                                8.96500163745506
                            ],
                            [
                                -79.5700529196645,
                                8.964871452939079
                            ],
                            [
                                -79.57046535837696,
                                8.964726212384122
                            ],
                            [
                                -79.57069004646988,
                                8.964448022298
                            ]
                        ]
                    ]
                }
            }
        });

        map.on('click', 'Puerto Balboa', (e) => {
            const features = map.queryRenderedFeatures(e.point, { layers: ['Puerto Balboa'] });

            if (!features.length) {
                return;
            }
            features.forEach((feature) => {
                const popup = new mapboxgl.Popup()
                    .setLngLat(e.lngLat)
                    .setHTML(`<h3>${feature.properties.title}</h3><p>${feature.properties.description}</p>`)
                    .addTo(map);
            });
        });

        map.addLayer({
            'id': 'Puerto Balboa',
            'type': 'fill',
            'source': 'Puerto Balboa',
            'layout': {},
            'paint': {
                'fill-color': '#0080ff', 
                'fill-opacity': 0.5
            }
        });

        map.addLayer({
            'id': 'outline',
            'type': 'line',
            'source': 'Puerto Balboa',
            'layout': {},
            'paint': {
                'line-color': '#000',
                'line-width': 2
            }
        });

        // Funciones del cursor cuando entra y sale del rang del poligono
        map.on('mouseenter', 'Puerto Balboa', () => {
        map.getCanvas().style.cursor = 'pointer';
        });

        map.on('mouseleave', 'Puerto Balboa', () => {
        map.getCanvas().style.cursor = '';
        });
    });
</script>

</body>
</html>